!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=47)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(3),n="0123456789abcdefghijklmnopqrstuvwxyz".split(""),s=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"],i="lk-gen",o=100;function u(e,t){if(0==t||!y(e))return e;var r={};for(var a in e)r[a]=u(e[a],t-1);return r}function l(e,t,r,a){for(var n in t)t.hasOwnProperty(n)&&(y(e[n])&&y(t[n])?l(e[n],t[n],r,a-1):(void 0===e[n]||r)&&(e[n]=u(t[n],a-1)))}function c(e,t){console.warn("alert: This is just a stub implementation, request the dom version of the client API : clientapi_dom.lib.xml to get the concrete implementation"),console.warn(e+":",t)}function p(e){return JSON.parse(e+"")}function f(e,t){for(var r=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var s=a[n];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(r))return s.substring(r.length,s.length)}return t}function d(e){return e.failure||e.errorCallback||e.failureCallback}function m(e){return e.success||e.successCallback}function g(e){return null!==e&&void 0!==e&&"[object Function]"==={}.toString.call(e)}function y(e){return"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)}function h(e){return"string"==typeof e}function v(e,t,r){return e.toLocaleString()+" "+(1===e?t:r)}function b(e,t,r,a){var n="";if(a){var s=new Date;s.setTime(s.getTime()+24*a*60*60*1e3),n="; expires="+s.toUTCString()}var i="/";r&&(i=location.pathname.substring(0,location.pathname.lastIndexOf("/"))),document.cookie=e+"="+t+n+"; path="+i}function S(e){console.warn(e+": This is just a stub implementation, request the dom version of the client API : clientapi_dom.lib.xml to get the concrete implementation")}t.apply=function(e,t){if(e&&t&&"object"==typeof t){var r=void 0,a=void 0,n=void 0;for(r in t)e[r]=t[r];for(a=s.length;a--;)n=s[a],t.hasOwnProperty(n)&&(e[n]=t[n])}return e},t.applyTranslated=function(e,t,r,a,n){var s;for(var i in void 0===e&&(e={}),void 0===a&&(a=!0),void 0==n&&a&&(n=!0),t)if(t.hasOwnProperty(i)){if("constructor"==i||g(i))continue;(s=r[i])?e[r[i]]=t[i]:void 0!==s||!a||!n&&g(t[i])||(e[i]=t[i])}},t.alert=c,t.capitalize=function(e){return e&&h(e)&&e.length>0?e.charAt(0).toUpperCase()+e.substr(1):e},t.caseInsensitiveEquals=function(e,t){return String(e).toLowerCase()==String(t).toLowerCase()},t.collapseExpand=function(e,t,r){return S("collapseExpand"),!1},t.ensureRegionName=function(e){return e&&h(e)?e:"query"},t.decode=p,t.deleteCookie=function(e,t){b(e,"",t,-1)},t.displayAjaxErrorResponse=function(e,t,r,a){console.warn("displayAjaxErrorResponse: This is just a stub implementation, request the dom version of the client API : clientapi_dom.lib.xml to get the concrete implementation")},t.encode=function(e){return JSON.stringify(e)},t.encodeHtml=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.escapeRe=function(e){return e.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},t.endsWith=function(e,t){return!(!e||!t||e.length<t.length||e.substring(e.length-t.length)!=t)},t.ensureBoxVisible=function(){console.warn("ensureBoxVisible() has been migrated to the appropriate Ext scope. Consider LABKEY.ext.Utils.ensureBoxVisible or LABKEY.ext4.Util.ensureBoxVisible")},t.generateUUID=function(){var e=a.getServerContext().uuids;if(e&&e.length>0)return e.pop();for(var t,r=new Array(36),s=0,i=0;i<36;i++)8==i||13==i||18==i||23==i?r[i]="-":14==i?r[i]="4":(s<=2&&(s=33554432+16777216*Math.random()|0),t=15&s,s>>=4,r[i]=n[19==i?3&t|8:t]);return r.join("")},t.getCallbackWrapper=function(e,t,r){var a=this;return function(n,s){var i=n.responseJSON;if(!i){if(function(e){return e&&e.getResponseHeader&&e.getResponseHeader("Content-Type")&&e.getResponseHeader("Content-Type").indexOf("application/json")>=0}(n))try{i=p(n.responseText)}catch(e){}n.responseJSON=i}!i&&r&&(i={}),i&&!i.exception&&r&&(i.exception=n&&n.statusText?n.statusText:"Communication failure."),e?e.call(t||a,i,n,s):r&&0!=n.status&&c("Error",i.exception)}},t.getCookie=f,t.getMsgFromError=function(e,t,r){var a,n=(r=r||{}).msgPrefix||"An error occurred trying to load:\n";if(e&&e.responseText&&e.getResponseHeader("Content-Type")&&e.getResponseHeader("Content-Type").indexOf("application/json")>=0){var s=p(e.responseText);s&&s.exception&&(a=n+s.exception,r.showExceptionClass&&(a+="\n("+(s.exceptionClass?s.exceptionClass:"Exception class unknown")+")"))}return a||(a=n+"Status: "+e.statusText+" ("+e.status+")"),t&&t.message&&(a+="\n"+t.name+": "+t.message),a},t.getOnFailure=d,t.getOnSuccess=m,t.getSessionID=function(){return f("JSESSIONID","")},t.id=function(e){return e?String(e)+ ++o:i+ ++o},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isBoolean=function(e){var t=e.toString().toUpperCase();if("TRUE"==t||"1"==e||"Y"==t||"YES"==t||"ON"==t||"T"==t||"FALSE"==t||"0"==e||"N"==t||"NO"==t||"OFF"==t||"F"==t)return!0},t.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},t.isNumber=function(e){return"number"==typeof e&&Number.isFinite(e)},t.isDefined=function(e){return void 0!==e},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isFunction=g,t.isObject=y,t.isString=h,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e[0],a=1;a<e.length;a++)l(r,e[a],!0,50);return r},t.notifyExpandCollapse=function(e,t){S("notifyExpandCollapse")},t.onError=function(e){S("onError")},t.onReady=function(e){S("onReady"),"function"==typeof e&&e()},t.onTrue=function(e){e.maxTests=e.maxTests||1e3;try{if(e.testCallback.apply(e.scope||this,e.testArguments||[]))m(e).apply(e.scope||this,e.successArguments||[]);else{if(e.maxTests<=0)throw"Maximum number of tests reached!";--e.maxTests}}catch(t){d(e)&&d(e).apply(e.scope||this,[t,e.errorArguments])}},t.padString=function(e,t,r){var a,n="";if(t>(a=h(e)?e:e.toString()).length)for(var s=0;s<t-a.length;s++)n+=r;return n+a},t.pluralBasic=function(e,t){return v(e,t,t+"s")},t.pluralize=v,t.roundNumber=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},t.setCookie=b,t.textLink=function(e){if(void 0===e.href&&void 0===e.onClick)throw"href AND/OR onClick required in call to LABKEY.Utils.textLink()";var t=" ";if(e){for(var r in e)e.hasOwnProperty(r)&&"text"!=r.toString()&&"class"!=r.toString()&&(t+=r.toString()+'="'+e[r]+'" ');return'<a class="labkey-text-link"'+t+">"+(null!=e.text?e.text:"")+"</a>"}throw"Config object not found for textLink."},t.toggleLink=function(e,t,r){return S("toggleLink"),!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(3),n=r(0);function s(e){var t=a.getServerContext().postParameters;if(!e&&t)return t;e||(e=a.getLocation().search),"?"==e.charAt(0)&&(e=e.substring(1,e.length));for(var r=e.split("&"),s={},i=0;i<r.length;i++){var o=r[i].split("=",2);if(1==o.length&&""!=o[0]&&(o[1]=""),2==o.length){var u=decodeURIComponent(o[0]);if(void 0==s[u])s[u]=decodeURIComponent(o[1]);else{var l=s[u];n.isArray(l)?l.push(decodeURIComponent(o[1])):s[u]=[l,decodeURIComponent(o[1])]}}}return s}function i(e){return c(e,encodeURIComponent)}function o(){var e=a.getServerContext().container;return e&&e.path?e.path:p().containerPath}function u(){return a.getServerContext().contextPath}function l(e){if(!e)return"";var t,r,a="",s="";for(r in e)if(e.hasOwnProperty(r))if(null!==(t=e[r])&&void 0!==t||(t=""),n.isArray(t))for(var i=0;i<t.length;++i)t[i],a+=s+encodeURIComponent(r)+"="+encodeURIComponent(t[i]),s="&";else a+=s+encodeURIComponent(r)+"="+encodeURIComponent(t),s="&";return a}function c(e,t){for(var r=e.split("/"),a=0;a<r.length;a++)r[a]=t(r[a]);return r.join("/")}function p(){var e=a.getServerContext().contextPath,t=e?e.length:0,r=a.getLocation().pathname,n=r.lastIndexOf("/"),s=r.substring(n+1);r=r.substring(t,n);var i=null,o=s.indexOf("-");if(0<o)i=s.substring(0,o),s=s.substring(o+1);else{var u=r.indexOf("/",1);i=u<0?r.substring(1):r.substring(1,u),r=r.substring(u)}var l=s.indexOf(".");return 0<l&&(s=s.substring(0,l)),{controller:decodeURIComponent(i),action:decodeURIComponent(s),containerPath:decodeURI(r)}}t.buildURL=function(e,t,r,n){"/"!=(r=r?i(r):o()).charAt(0)&&(r="/"+r),"/"!=r.charAt(r.length-1)&&(r+="/"),-1==t.indexOf(".")&&(t+=".view");var s,u=l(n),c=a.getServerContext(),p=c.contextPath,f=c.experimental;if(f&&f.containerRelativeURL)s=p+r+e+"-"+t;else{var d=a.getServerContext().baseURL;s=d?d+p+"/"+e+r+t:p+"/"+e+r+t}return u&&(s+="?"+u),s},t.decodePath=function(e){return c(e,decodeURIComponent)},t.encodePath=i,t.getAction=function(){return p().action},t.getBaseURL=function(e){var t=a.getServerContext().baseURL;if(t)return t+(e?"":u())+"/";var r=a.getLocation();return r.protocol+"//"+r.host+(e?"":u())+"/"},t.getContainer=o,t.getContainerName=function(){var e=o();return e.substring(e.lastIndexOf("/")+1)},t.getContextPath=u,t.getController=function(){return p().controller},t.getParameter=function(e){var t=s()[e];return t&&n.isArray(t)&&t.length>0?t[0]:t},t.getParameterArray=function(e){var t=s()[e];return t&&!n.isArray(t)?[t]:t},t.getParameters=function(e){if(!e)return s(e);var t=e;return-1!=e.indexOf("?")&&(t=e.substring(e.indexOf("?")+1,e.length)),s(t)},t.queryString=l},function(e,t,r){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),s=r(1),i=n.getServerContext(),o=i.CSRF,u=i.defaultHeaders;function l(e,t,r){e&&e.apply(t,r)}function c(e,t){if(t){var r=t.toLowerCase();for(var a in e)if(e.hasOwnProperty(a)&&a.toLowerCase()===r)return!0}return!1}t.DEFAULT_HEADERS=((a={})[n.CSRF_HEADER]=o,a),u&&(t.DEFAULT_HEADERS=u),t.request=function(e){var r=function(e){var t,r,a="GET",n=!1;if(!e||!e.hasOwnProperty("url")||null===e.url)throw new Error("a URL is required to make a request");var i=e.url,o=e.params;if(e.form?(r=e.form instanceof FormData?e.form:new FormData(e.form),n=!0):e.jsonData&&(t=JSON.stringify(e.jsonData)),e.hasOwnProperty("method")&&null!==e.method?a=e.method.toUpperCase():t&&(a="POST"),void 0!==o&&null!==o){var u=s.queryString(o);"POST"!==a||void 0!==t&&null!==t?i+=(-1===i.indexOf("?")?"?":"&")+u:t=u}return{data:n?r:t,isForm:n,method:a,url:i}}(e),a=e.hasOwnProperty("scope")&&null!==e.scope?e.scope:this,i=new XMLHttpRequest;return i.onreadystatechange=function(){if(4===i.readyState){var t=i.status>=200&&i.status<300||304==i.status;l(t?e.success:e.failure,a,[i,e]),l(e.callback,a,[e,t,i])}},i.open(r.method,r.url,!0),function(e,r,a){var s=r.headers,i=r.jsonData;void 0!==s&&null!==s||(s={}),a.isForm||c(s,"Content-Type")||(s["Content-Type"]=void 0!==i&&null!==i?"application/json":"application/x-www-form-urlencoded; charset=UTF-8"),c(s,"X-Requested-With")||(s["X-Requested-With"]="XMLHttpRequest");var o=n.getServerContext().baseURL;for(var u in o&&(t.DEFAULT_HEADERS[n.CSRF_HEADER]=n.getServerContext().CSRF,e.withCredentials=!0),t.DEFAULT_HEADERS)t.DEFAULT_HEADERS.hasOwnProperty(u)&&e.setRequestHeader(u,t.DEFAULT_HEADERS[u]);for(var u in s)s.hasOwnProperty(u)&&e.setRequestHeader(u,s[u])}(i,e,r),e.hasOwnProperty("timeout")&&null!==e.timeout&&void 0!==e.timeout&&(i.ontimeout=function(){l(e.failure,a,[i,e]),l(e.callback,a,[e,!1,i])}),i.send(r.data),i}},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CSRF_HEADER="X-LABKEY-CSRF",t.getLocation=function(){return window.location},t.getServerContext=function(){return LABKEY},t.setGlobalUser=function(e){return LABKEY.user=e,LABKEY};!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}a(t,e)}(Window);if(!window.LABKEY)throw new Error("LABKEY object is required to be initialized prior to loading the API")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),n=r(1),s=r(5),i=r(11),o=function(){function e(e,t,r){e&&(e instanceof s.FieldKey?e=e.toString():e instanceof Array&&(e=e.join("/"))),r||(r=i.Types.EQUAL),r.isTableWise()&&(e="*"),t&&(t=r.splitValue(t)),this.columnName=e,this.filterType=r,this.value=t}return e.prototype.getColumnName=function(){return this.columnName},e.prototype.getFilterType=function(){return this.filterType},e.prototype.getURLParameterName=function(e){return[a.ensureRegionName(e),".",this.columnName,"~",this.filterType.getURLSuffix()].join("")},e.prototype.getURLParameterValue=function(){return this.filterType.getURLParameterValue(this.value)},e.prototype.getValue=function(){return this.value},e}();function u(e,t,r){return new o(e,t,r)}t.Filter=o,t.appendAggregateParams=function(e,t,r){var n=a.ensureRegionName(r)+".agg.",s=e||{};if(a.isArray(t))for(var i=0;i<t.length;i++){var o=t[i],u="type="+o.type;if(o.label&&(u=u+"&label="+o.label),o.type&&o.column){var l=n+o.column,c=encodeURIComponent(u);if(void 0!==s[l]){var p=s[l];a.isArray(p)||(p=[p]),p.push(c),c=p}s[l]=c}}return s},t.appendFilterParams=function(e,t,r){var n=a.ensureRegionName(r),s=e||{};if(t)for(var i=0;i<t.length;i++){var o=t[i];if(!o.getFilterType().isDataValueRequired()||null!=o.getURLParameterValue()){var u=o.getURLParameterName(n),l=o.getURLParameterValue();if(void 0!==s[u]){var c=s[u];a.isArray(c)||(c=[c]),c.push(l),l=c}s[u]=l}}return s},t.create=u,t.getFilterDescription=function(e,t,r){var s=n.getParameters(e),o="",u="";for(var l in s)if(s.hasOwnProperty(l)&&0==l.indexOf(t+"."+r+"~")){var c=l.substring(l.indexOf("~")+1),p=s[l];a.isArray(p)||(p=[p]);var f=i.getFilterTypeForURLSuffix(c),d=void 0;d=f?f.getDisplayText():c;for(var m=0;m<p.length;m++)o+=u+d+" "+p[m],u=" AND "}return o},t.getFiltersFromUrl=function(e,t){var r=[],s=n.getParameters(e),o=a.ensureRegionName(t);for(var l in s)if(s.hasOwnProperty(l)&&0==l.indexOf(o+".")){var c=l.indexOf("~");if(-1!=c){var p=l.substring(o.length+1,c),f=l.substring(c+1),d=i.getFilterTypeForURLSuffix(f),m=s[l];if(a.isArray(m))for(var g=0;g<m.length;g++)r.push(u(p,m[g],d));else r.push(u(p,m,d))}}return r},t.getQueryParamsFromUrl=function(e,t){var r={},s=n.getParameters(e),i=a.ensureRegionName(t)+".param.";for(var o in s)s.hasOwnProperty(o)&&0==o.indexOf(i)&&(r[o.substring(i.length)]=s[o]);return r},t.getSortFromUrl=function(e,t){var r=a.ensureRegionName(t);return n.getParameters(e)[r+".sort"]},t.merge=function(e,t,r){var a=[];if(e&&e.length>0)for(var n=0;n<e.length;n++){var s=e[n];s.getColumnName()!=t&&a.push(s)}return r&&r.length>0?a.concat(r):a}},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),s=r(6),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.fromParts=function(e){for(var r=null,a=0;a<arguments.length;a++){var s=arguments[a];if(n.isString(s))r=new t(r,s);else{if(!s||!s.length)throw"Illegal argument to fromParts: "+s;for(var i=0;i<s.length;i++)r=new t(r,s[i])}}return r},t.fromString=function(e){for(var r=null,a=e.split("/"),n=0;n<a.length;n++)r=new t(r,s.QueryKey.decodePart(a[n]));return r},t.prototype.toString=function(){return e.prototype.toString.call(this,"/")},t}(s.QueryKey);t.FieldKey=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.name=t,this.parent=e}return e.decodePart=function(e){return e.replace(/\$P/g,".").replace(/\$C/g,",").replace(/\$T/g,"~").replace(/\$B/g,"}").replace(/\$A/g,"&").replace(/\$S/g,"/").replace(/\$D/g,"$")},e.encodePart=function(e){return e.replace(/\$/g,"$D").replace(/\//g,"$S").replace(/\&/g,"$A").replace(/\}/g,"$B").replace(/\~/g,"$T").replace(/\,/g,"$C").replace(/\./g,"$P")},e.needsQuotes=function(e){return!e.match(/^[a-zA-Z][_\$a-zA-Z0-9]*$/)||!!e.match(/^(all|any|and|as|asc|avg|between|class|count|delete|desc|distinct|elements|escape|exists|false|fetch|from|full|group|having|in|indices|inner|insert|into|is|join|left|like|limit|max|min|new|not|null|or|order|outer|right|select|set|some|sum|true|union|update|user|versioned|where|case|end|else|then|when|on|both|empty|leading|member|of|trailing)$/i)},e.quote=function(e){return'"'+e.replace(/\"/g,'""')+'"'},e.prototype.equals=function(e){return null!=e&&this.constructor==e.constructor&&this.toString().toLowerCase()==e.toString().toLowerCase()},e.prototype.getName=function(){return this.name},e.prototype.getParts=function(){var e=[];return this.parent&&(e=this.parent.getParts()),e.push(this.name),e},e.prototype.toDisplayString=function(){return this.getParts().join(".")},e.prototype.toJSON=function(){return this.toString()},e.prototype.toSQLString=function(){for(var t=[],r=this.getParts(),a=0;a<r.length;a++)e.needsQuotes(r[a])?t.push(e.quote(r[a])):t.push(r[a]);return t.join(".")},e.prototype.toString=function(t){for(var r=[],a=this.getParts(),n=0;n<a.length;n++)r.push(e.encodePart(a[n]));return r.join(t)},e}();t.QueryKey=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(4),i=r(0),o=r(13);function u(e){return void 0===e||null===e||""==e?"NULL":"'"+e.toString().replace("'","''")+"'"}t.containerFilter={current:"current",currentAndFirstChildren:"currentAndFirstChildren",currentAndSubfolders:"currentAndSubfolders",currentPlusProject:"currentPlusProject",currentAndParents:"currentAndParents",currentPlusProjectAndShared:"currentPlusProjectAndShared",allFolders:"allFolders"},t.URL_COLUMN_PREFIX="_labkeyurl_",t.buildQueryParams=function(e,t,r,a,n){var o,u=i.ensureRegionName(n),l=((o={dataRegionName:u})[u+".queryName"]=t,o.schemaName=e,o);return a&&(l[u+".sort"]=a),s.appendFilterParams(l,r,u)},t.deleteQueryView=function(e){if(!e)throw"You must specify a configuration!";if(!e.schemaName)throw"You must specify a schemaName!";if(!e.queryName)throw"You must specify a queryName!";var t={schemaName:e.schemaName,queryName:e.queryName};return e.viewName&&(t.viewName=e.viewName),void 0!==e.revert&&(t.complete=!0!==e.revert),n.request({url:a.buildURL("query","deleteView.api",e.containerPath),method:"POST",success:i.getCallbackWrapper(i.getOnSuccess(e),e.scope),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0),jsonData:t})},t.getDataViews=function(e){var t={includeData:!0,includeMetadata:!1};e.dataTypes&&(t.dataTypes=e.dataTypes);var r=i.getOnSuccess(e),s=i.getCallbackWrapper(function(e,t,a){r&&r.call(a.scope||this,e.data,a,t)},this);return n.request({url:a.buildURL("reports","browseData.api",e.containerPath),method:"POST",success:s,failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0),jsonData:t})},t.getMethod=function(e){return!e||"GET"!==e.toUpperCase()&&"POST"!==e.toUpperCase()?"GET":e.toUpperCase()},t.getQueries=function(e){var t={};return i.applyTranslated(t,e,{schemaName:"schemaName",includeColumns:"includeColumns",includeUserQueries:"includeUserQueries",includeSystemQueries:"includeSystemQueries"},!1,!1),n.request({url:a.buildURL("query","getQueries.api",e.containerPath),method:"GET",success:i.getCallbackWrapper(i.getOnSuccess(e),e.scope),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0),params:t})},t.getQueryViews=function(e){var t={};return e.schemaName&&(t.schemaName=e.schemaName),e.queryName&&(t.queryName=e.queryName),void 0!=e.viewName&&(t.viewName=e.viewName),e.metadata&&(t.metadata=e.metadata),n.request({url:a.buildURL("query","getQueryViews.api",e.containerPath),method:"GET",success:i.getCallbackWrapper(i.getOnSuccess(e),e.scope),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0),params:t})},t.getSchemas=function(e){var t={};return e.apiVersion&&(t.apiVersion=e.apiVersion),e.schemaName&&(t.schemaName=e.schemaName),void 0!==e.includeHidden&&(t.includeHidden=e.includeHidden),n.request({url:a.buildURL("query","getSchemas.api",e.containerPath),method:"GET",success:i.getCallbackWrapper(i.getOnSuccess(e),e.scope),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0),params:t})},t.getServerDate=function(e){return n.request({url:a.buildURL("query","getServerDate.api"),success:i.getCallbackWrapper(function(t){var r=i.getOnSuccess(e);t&&t.date&&r&&r(new Date(t.date))},this),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope)})},t.getSuccessCallbackWrapper=function(e,r,a,n){var s=this;if(n){var u=n.toString();if("13.2"===u||"16.2"===u||"17.1"===u)return i.getCallbackWrapper(function(t,r,n){t&&e&&e.call(a||s,new o.Response(t),r,n)},this)}return i.getCallbackWrapper(function(n,i,o){e&&(n&&n.rows&&r&&function(e){for(var r=[],a=[],n=[],s=e.columnModel,i=0;i<s.length;++i)s[i].hidden?r.push(s[i].dataIndex):(a.push(s[i]),n.push(e.metaData.fields[i]));e.columnModel=a,e.metaData.fields=n;for(var i=0;i<e.rows.length;++i)for(var o=e.rows[i],u=0;u<r.length;++u)delete o[r[u]],delete o[t.URL_COLUMN_PREFIX+r[u]]}(n),e.call(a||s,n,o,i))},this)},t.saveQueryViews=function(e){var t={};return e.schemaName&&(t.schemaName=e.schemaName),e.queryName&&(t.queryName=e.queryName),e.views&&(t.views=e.views),n.request({url:a.buildURL("query","saveQueryViews.api",e.containerPath),method:"POST",jsonData:t,success:i.getCallbackWrapper(i.getOnSuccess(e),e.scope),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0)})},t.sqlDateLiteral=function(e){if(void 0===e||null===e||!e)return"NULL";if("string"==typeof e)try{e=new Date(e)}catch(e){}if("object"==typeof e&&"function"==typeof e.toISOString){var t=function(e){return e>=10?""+e:"0"+e};return"{d '"+e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"'}"}return"{d '"+u(e.toString())+"'}"},t.sqlDateTimeLiteral=function(e,t){if(void 0===e||null===e||!e)return"NULL";if("string"==typeof e)try{e=new Date(e)}catch(e){}if("object"==typeof e&&"function"==typeof e.toISOString){var r=function(e){return e>=10?""+e:"0"+e};return"{ts '"+e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+" "+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+(t?"."+function(e){return e>=100?""+e:"0"+r(e)}(e.getMilliseconds()):"")+"'}"}return"{ts '"+this.sqlStringLiteral(e)+"'}"},t.sqlStringLiteral=u,t.validateQuery=function(e){var t=e.validateQueryMetadata?"validateQueryMetadata.api":"validateQuery.api",r={};return i.applyTranslated(r,e,{successCallback:!1,errorCallback:!1,scope:!1}),n.request({url:a.buildURL("query",t,e.containerPath),method:"GET",params:r,success:i.getCallbackWrapper(i.getOnSuccess(e),e.scope),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0)})}},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),s=r(6),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.fromParts=function(e){for(var r=null,a=0;a<arguments.length;a++){var s=arguments[a];if(n.isString(s))r=new t(r,s);else{if(!s||!s.length)throw"Illegal argument to fromParts: "+s;for(var i=0;i<s.length;i++)r=new t(r,s[i])}}return r},t.fromString=function(e){for(var r=e.split("."),a=null,n=0;n<r.length;n++)a=new t(a,s.QueryKey.decodePart(r[n]));return a},t.prototype.toString=function(){return e.prototype.toString.call(this,".")},t}(s.QueryKey);t.SchemaKey=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0);t.getSuccessCallbackWrapper=function(e,t,r){var n=this;return a.getCallbackWrapper(function(a,s){t&&t.call(r||n,e(a)||null,s)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(3),n=r(0),s=r(17).loadDOMContext(),i=s.$,o=s.CSRF;function u(e,t){t||(t={}),t[a.CSRF_HEADER]||(t[a.CSRF_HEADER]=o);var r=n.generateUUID(),s=[];for(var u in s.push("<f"),s.push('orm method="POST" id="'+r+'"action="'+e+'">'),t)if(t.hasOwnProperty(u)){var l=t[u];if(void 0===l)continue;s.push('<input type="hidden" name="'+n.encodeHtml(u)+'" value="'+n.encodeHtml(l)+'" />')}s.push("</form>"),i("body").append(s.join("")),i("form#"+r).submit()}function l(e,t){"undefined"!=typeof Ext4?Ext4.Msg.alert(e?Ext4.htmlEncode(e):"",t?Ext4.htmlEncode(t):""):"undefined"!=typeof Ext?Ext.Msg.alert(e?Ext.util.Format.htmlEncode(e):"",t?Ext.util.Format.htmlEncode(t):""):"undefined"!=typeof window&&window.alert(n.encodeHtml(e+" : "+t))}function c(e,t,r){var a,s=(r=r||{}).msgPrefix||"An error occurred trying to load:\n";if(e&&e.responseText&&e.getResponseHeader("Content-Type")){var o=e.getResponseHeader("Content-Type");if(o.indexOf("application/json")>=0){var u=n.decode(e.responseText);u&&u.exception&&(a=s+u.exception,r.showExceptionClass&&(a+="\n("+(u.exceptionClass?u.exceptionClass:"Exception class unknown")+")"))}else if(o.indexOf("text/html")>=0&&i){var l=i(e.responseText).find(".exception-message");l&&1===l.length&&(a=s+l.text().trim())}}return a||(a=s+"Status: "+e.statusText+" ("+e.status+")"),t&&t.message&&(a+="\n"+t.name+": "+t.message),a}t.alert=l,t.displayAjaxErrorResponse=function(e,t,r,a){0!==e.status&&l("Error",c(e,t,{msgPrefix:a,showExceptionClass:r}))},t.getMsgFromError=c,t.postToAction=function(e,t){u(e,t)},t.confirmAndPost=function(e,t,r){return!!confirm(e)&&(u(t,r),!0)},t.setWebpartTitle=function(e,t){i("table#webpart_"+t+" span[class=labkey-wp-title-text]").html(n.encodeHtml(e))},t.signalWebDriverTest=function(e,t){var r=i("#testSignals");r.length||(i("body").append('<div id="testSignals"/>'),(r=i("#testSignals")).hide()),r.find('div[name="'+e+'"]').remove(),r.append('<div name="'+e+'" id="'+n.id()+'"/>'),t&&r.find('div[name="'+e+'"]').attr("value",t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(22),n=r(0),s={},i=g("Equals","=","eq",!0),o=g("Is Greater Than",">","gt",!0),u=g("Is Greater Than or Equal To",">=","gte",!0),l=g("Equals One Of",null,"in",!0,";","Equals One Of (example usage: a;b;c)"),c=g("Is Less Than","<","lt",!0),p=g("Is Less Than or Equal To","=<","lte",!0),f=g("Does Not Equal","<>","neq",!0),d=g("Does Not Equal Any Of",null,"notin",!0,";","Does Not Equal Any Of (example usage: a;b;c)"),m=g(f.getDisplayText(),f.getDisplaySymbol(),"neqornull",!0);function g(e,r,i,o,u,l,c,p,f){var d=function(){return!0===o},m=function(){return null!=u},g={getDisplaySymbol:function(){return r||null},getDisplayText:function(){return e},getLongDisplayText:function(){return l||e},getURLSuffix:function(){return i||null},isDataValueRequired:d,isMultiValued:m,isTableWise:function(){return!0===f},getMultiValueFilter:function(){return m()?null:s[a.singleValueToMultiMap[i]]},getMultiValueMaxOccurs:function(){return p},getMultiValueMinOccurs:function(){return c},getMultiValueSeparator:function(){return u||null},getOpposite:function(){return a.oppositeMap[i]?s[a.oppositeMap[i]]:null},getSingleValueFilter:function(){return m?s[a.multiValueToSingleMap[i]]:null},splitValue:function(e){if(g.isMultiValued()&&(n.isString(e)&&(e=0===e.indexOf("{json:")&&e.indexOf("}")===e.length-1?JSON.parse(e.substring("{json:".length,e.length-1)):e.split(g.getMultiValueSeparator())),!n.isArray(e)))throw new Error("Filter '"+g.getDisplayText()+"' must be created with Array of values or a '"+g.getMultiValueSeparator()+"' separated string of values: "+e);if(!g.isMultiValued()&&n.isArray(e))throw new Error("Array of values not supported for '"+g.getDisplayText()+"' filter: "+e);return e},getURLParameterValue:function(e){if(!g.isDataValueRequired())return"";if(g.isMultiValued()&&n.isArray(e)){var t=g.getMultiValueSeparator();return e.some(function(e){return n.isString(e)&&-1!==e.indexOf(t)})?"{json:"+JSON.stringify(e)+"}":e.join(t)}return e},validate:function(r,a,n){if(d()){for(var s=t.TYPES_BY_JSON_TYPE[a.toLowerCase()],o=!1,l=0;!o&&l<s.length;l++)s[l].getURLSuffix()==i&&(o=!0);if(o)return m()?function(e,t,r,a,n,s,i){var o;try{o=e.splitValue(r)}catch(e){return void alert("Failed to validate filter: "+e.toString())}for(var u=[],l=0;l<o.length;l++){var c=h(t,o[l].trim(),a);if(void 0==c)return;u.push(c)}if(void 0!==s&&s>0&&o.length<s)alert("At least "+s+" '"+n+"' separated values are required");else{if(!(void 0!==i&&i>0&&o.length>i))return e.getURLParameterValue(o);alert("At most "+i+" '"+n+"' separated values are allowed")}}(g,a,r,n,u,c,p):h(a,r,n);alert("Filter type '"+e+"' can't be applied to "+g+" types.")}}};return s[i]=g,g}function y(e){return e<10?"0"+e:""+e}function h(e,t,r){var a=t.toString();if("boolean"===e){var n=a.toUpperCase();return"TRUE"==n||"1"==n||"YES"==n||"Y"==n||"ON"==n||"T"==n?"1":"FALSE"==n||"0"==n||"NO"==n||"N"==n||"OFF"==n||"F"==n?"0":void alert(a+" is not a valid boolean for field '"+r+"'. Try true,false; yes,no; y,n; on,off; or 1,0.")}if("date"===e){var s=void 0,i=void 0,o=void 0,u=void 0,l=void 0;if(u=0,l=0,a.match(/^\s*(\d\d\d\d)-(\d\d)-(\d\d)\s*$/)||a.match(/^\s*(\d\d\d\d)-(\d\d)-(\d\d)\s*(\d\d):(\d\d)\s*$/))return a;var c=new Date(a);if(isNaN(c))return a.match(/^(-|\+)/i)?a:void alert(a+" is not a valid date for field '"+r+"'.");a.match(/\d+\/\d+\/\d{2}(\D|$)/)&&c.getFullYear()<(new Date).getFullYear()-80&&c.setFullYear(c.getFullYear()+100),s=c.getFullYear(),i=c.getMonth()+1,o=c.getDate(),u=c.getHours(),l=c.getMinutes();var p=s+"-"+y(i)+"-"+y(o);return 0==u&&0==l||(p+=" "+y(u)+":"+y(l)),p}if("float"!==e){if("int"===e){var f=parseInt(a);return isNaN(f)?void alert(a+" is not a valid integer for field '"+r+"'."):""+f}return a}var d=parseFloat(a);isNaN(d)&&alert(a+" is not a valid decimal number for field '"+r+"'.")}t.Types={EQUAL:i,DATE_EQUAL:g(i.getDisplayText(),i.getDisplaySymbol(),"dateeq",!0),NOT_EQUAL:f,NEQ:f,DATE_NOT_EQUAL:g(f.getDisplayText(),f.getDisplaySymbol(),"dateneq",!0),NEQ_OR_NULL:m,NOT_EQUAL_OR_MISSING:m,GREATER_THAN:o,GT:o,DATE_GREATER_THAN:g(o.getDisplayText(),o.getDisplaySymbol(),"dategt",!0),LESS_THAN:c,LT:c,DATE_LESS_THAN:g(c.getDisplayText(),c.getDisplaySymbol(),"datelt",!0),GREATER_THAN_OR_EQUAL:u,GTE:u,DATE_GREATER_THAN_OR_EQUAL:g(u.getDisplayText(),u.getDisplaySymbol(),"dategte",!0),LESS_THAN_OR_EQUAL:p,LTE:p,DATE_LESS_THAN_OR_EQUAL:g(p.getDisplayText(),p.getDisplaySymbol(),"datelte",!0),STARTS_WITH:g("Starts With",null,"startswith",!0),DOES_NOT_START_WITH:g("Does Not Start With",null,"doesnotstartwith",!0),CONTAINS:g("Contains",null,"contains",!0),DOES_NOT_CONTAIN:g("Does Not Contain",null,"doesnotcontain",!0),CONTAINS_ONE_OF:g("Contains One Of",null,"containsoneof",!0,";","Contains One Of (example usage: a;b;c)"),CONTAINS_NONE_OF:g("Does Not Contain Any Of",null,"containsnoneof",!0,";","Does Not Contain Any Of (example usage: a;b;c)"),IN:l,EQUALS_ONE_OF:l,NOT_IN:d,EQUALS_NONE_OF:d,BETWEEN:g("Between",null,"between",!0,",","Between, Inclusive (example usage: -4,4)",2,2),NOT_BETWEEN:g("Not Between",null,"notbetween",!0,",","Not Between, Exclusive (example usage: -4,4)",2,2),MEMBER_OF:g("Member Of",null,"memberof",!0,void 0,"Member Of"),HAS_ANY_VALUE:g("Has Any Value"),ISBLANK:g("Is Blank",null,"isblank"),MISSING:g("Is Blank",null,"isblank"),NONBLANK:g("Is Not Blank",null,"isnonblank"),NOT_MISSING:g("Is Not Blank",null,"isnonblank"),HAS_MISSING_VALUE:g("Has a missing value indicator",null,"hasmvvalue"),DOES_NOT_HAVE_MISSING_VALUE:g("Does not have a missing value indicator",null,"nomvvalue"),EXP_CHILD_OF:g("Is Child Of",null,"exp:childof",!0,void 0," is child of"),Q:g("Search",null,"q",!0,void 0,"Search across all columns",void 0,void 0,!0)},t.TYPES_BY_JSON_TYPE={boolean:[t.Types.HAS_ANY_VALUE,t.Types.EQUAL,t.Types.NEQ_OR_NULL,t.Types.ISBLANK,t.Types.NONBLANK],date:[t.Types.HAS_ANY_VALUE,t.Types.DATE_EQUAL,t.Types.DATE_NOT_EQUAL,t.Types.ISBLANK,t.Types.NONBLANK,t.Types.DATE_GREATER_THAN,t.Types.DATE_LESS_THAN,t.Types.DATE_GREATER_THAN_OR_EQUAL,t.Types.DATE_LESS_THAN_OR_EQUAL],float:[t.Types.HAS_ANY_VALUE,t.Types.EQUAL,t.Types.NEQ_OR_NULL,t.Types.ISBLANK,t.Types.NONBLANK,t.Types.GT,t.Types.LT,t.Types.GTE,t.Types.LTE,t.Types.IN,t.Types.NOT_IN,t.Types.BETWEEN,t.Types.NOT_BETWEEN],int:[t.Types.HAS_ANY_VALUE,t.Types.EQUAL,t.Types.NEQ_OR_NULL,t.Types.ISBLANK,t.Types.NONBLANK,t.Types.GT,t.Types.LT,t.Types.GTE,t.Types.LTE,t.Types.IN,t.Types.NOT_IN,t.Types.BETWEEN,t.Types.NOT_BETWEEN],string:[t.Types.HAS_ANY_VALUE,t.Types.EQUAL,t.Types.NEQ_OR_NULL,t.Types.ISBLANK,t.Types.NONBLANK,t.Types.GT,t.Types.LT,t.Types.GTE,t.Types.LTE,t.Types.CONTAINS,t.Types.DOES_NOT_CONTAIN,t.Types.DOES_NOT_START_WITH,t.Types.STARTS_WITH,t.Types.IN,t.Types.NOT_IN,t.Types.CONTAINS_ONE_OF,t.Types.CONTAINS_NONE_OF,t.Types.BETWEEN,t.Types.NOT_BETWEEN]},t.TYPES_BY_JSON_TYPE_DEFAULT={boolean:t.Types.EQUAL,date:t.Types.DATE_EQUAL,float:t.Types.EQUAL,int:t.Types.EQUAL,string:t.Types.CONTAINS},t.getDefaultFilterForType=function(e){return e&&t.TYPES_BY_JSON_TYPE_DEFAULT[e.toLowerCase()]?t.TYPES_BY_JSON_TYPE_DEFAULT[e.toLowerCase()]:t.Types.EQUAL},t.getFilterTypeForURLSuffix=function(e){return s[e]},t.getFilterTypesForType=function(e,r){var a=[];return e&&t.TYPES_BY_JSON_TYPE[e.toLowerCase()]&&(a=a.concat(t.TYPES_BY_JSON_TYPE[e.toLowerCase()])),r&&(a.push(t.Types.HAS_MISSING_VALUE),a.push(t.Types.DOES_NOT_HAVE_MISSING_VALUE)),a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0);t.create=function(e){var t=arguments.length>1?function(e){var t={failure:e[1],success:e[0]};return 4!==e.length&&5!==e.length||!s.isString(e[3])?(t.containerPath=e[5],t.domainDesign=e[3],t.kind=e[2],t.options=e[4]):(t.containerPath=e[4],t.domainGroup=e[2],t.domainTemplate=e[3]),t}(arguments):e;n.request({url:a.buildURL("property","createDomain.api",t.containerPath),method:"POST",jsonData:t,success:s.getCallbackWrapper(t.success),failure:s.getCallbackWrapper(t.failure,this,!0)})},t.drop=function(e){n.request({url:a.buildURL("property","deleteDomain.api",e.containerPath),method:"POST",success:s.getCallbackWrapper(e.success),failure:s.getCallbackWrapper(e.failure,this,!0),jsonData:{domainDesign:e.domainDesign,schemaName:e.schemaName,queryName:e.queryName}})},t.get=function(e){var t=arguments.length>1?{containerPath:arguments[4],failure:arguments[1],queryName:arguments[3],schemaName:arguments[2],success:arguments[0]}:e;n.request({url:a.buildURL("property","getDomain.api",t.containerPath),method:"GET",success:s.getCallbackWrapper(t.success),failure:s.getCallbackWrapper(t.failure,this,!0),params:{schemaName:t.schemaName,queryName:t.queryName,domainId:t.domainId}})},t.save=function(e){var t=arguments.length>1?{success:arguments[0],failure:arguments[1],domainDesign:arguments[2],schemaName:arguments[3],queryName:arguments[4],containerPath:arguments[5]}:e;n.request({url:a.buildURL("property","saveDomain.api",t.containerPath),method:"POST",success:s.getCallbackWrapper(t.success),failure:s.getCallbackWrapper(t.failure,this,!0),jsonData:{domainDesign:t.domainDesign,schemaName:t.schemaName,queryName:t.queryName,domainId:t.domainId}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Utils_1=__webpack_require__(0),FieldKey_1=__webpack_require__(5),SchemaKey_1=__webpack_require__(8);function generateColumnModel(e){for(var t=[],r=0;r<e.length;r++)t.push({scale:e[r].scale,hidden:e[r].hidden,sortable:e[r].sortable,align:e[r].align,width:e[r].width,dataIndex:e[r].fieldKey.toString(),required:e[r].nullable,editable:e[r].userEditable,header:e[r].shortCaption});return t}function generateGetDisplayField(e,t){return function(){for(var r=e.toString(),a=0;a<t.length;a++)if(r===t[a].fieldKey.toString())return t[a];return null}}var Response=function(){function Response(rawResponse){for(var attr in rawResponse)rawResponse.hasOwnProperty(attr)&&(this[attr]=rawResponse[attr]);this.schemaKey=SchemaKey_1.SchemaKey.fromParts(rawResponse.schemaName);for(var fields=rawResponse.metaData.fields,i=0;i<fields.length;i++){var field=Object.assign({},fields[i]),lookup=field.lookup;if(field.fieldKey=FieldKey_1.FieldKey.fromParts(field.fieldKey),lookup&&lookup.schemaName&&(lookup.schemaName=SchemaKey_1.SchemaKey.fromParts(lookup.schemaName)),field.displayField&&(field.displayField=FieldKey_1.FieldKey.fromParts(field.displayField),field.getDisplayField=generateGetDisplayField(field.displayField,fields)),field.extFormatFn){var ext4Index=field.extFormatFn.indexOf("Ext4."),isExt4Fn=0===ext4Index||1===ext4Index,canEvalExt3=!isExt4Fn&&window&&Utils_1.isDefined(window.Ext),canEvalExt4=isExt4Fn&&window&&Utils_1.isDefined(window.Ext4);(canEvalExt3||canEvalExt4)&&(field.extFormatFn=eval(field.extFormatFn))}this.metaData.fields[i]=field}if(this.columnModel=generateColumnModel(this.metaData.fields),void 0!==this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i]=new Row(this.rows[i]);else this.rows=[]}return Response.prototype.getColumnModel=function(){return this.columnModel},Response.prototype.getMetaData=function(){return this.metaData},Response.prototype.getQueryName=function(){return this.queryName},Response.prototype.getRow=function(e){if(void 0!==this.rows[e])return this.rows[e];throw new Error("No row found for index "+e)},Response.prototype.getRowCount=function(){return this.rowCount},Response.prototype.getRows=function(){return this.rows},Response.prototype.getSchemaName=function(e){return e?this.schemaKey.toString():this.schemaName},Response}();exports.Response=Response;var Row=function(){function e(e){for(var t in this.links=null,e.links&&(this.links=e.links),e.data)e.data.hasOwnProperty(t)&&(this[t]=e.data[t])}return e.prototype.get=function(e){for(var t in e=e.toLowerCase(),this)if(t.toLowerCase()===e&&this.hasOwnProperty(t)&&!Utils_1.isFunction(this[t]))return this[t];return null},e.prototype.getLink=function(e){return this.links&&this.links.hasOwnProperty(e)?this.links[e]:null},e.prototype.getLinks=function(){return this.links},e.prototype.getValue=function(e){for(var t in e=e.toLowerCase(),this)if(t.toLowerCase()===e&&this.hasOwnProperty(t)&&!Utils_1.isFunction(this[t])){if(Utils_1.isArray(this[t]))return this[t].map(function(e){return e.value});if(this[t].hasOwnProperty("value"))return this[t].value}return null},e}();exports.Row=Row},function(e,t,r){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),s=r(2),i=r(0),o=r(35);t.Aggregate=o.Aggregate,t.Interval=o.Interval,t.Type=o.Type;var u=r(15);t.Dimension=u.Dimension;var l=a(r(36));t.Filter=l;var c=r(37);t.Measure=c.Measure;var p=r(9);function f(e){var t=[];if(e.measures&&e.measures.length)for(var r=0;r<e.measures.length;r++)t.push(new c.Measure(e.measures[r]));return t}function d(e){return e&&e.types&&e.types.length?e.types:[]}function m(e){var t=this,r={name:e.name,reportId:e.reportId,queryName:e.queryName,schemaName:e.schemaName},a=i.getOnSuccess(e);s.request({url:n.buildURL("visualization","getVisualization"),method:"POST",initialConfig:e,jsonData:r,success:i.getCallbackWrapper(function(r,n,s){r&&r.visualizationConfig&&(r.visualizationConfig=i.decode(r.visualizationConfig)),a&&a.call(e.scope||t,r,n,s)},e.scope),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0)})}t.get=m,t.getData=function(e){var t,r,a,o,u,l={measures:[],sorts:e.sorts,filterQuery:e.filterQuery,filterUrl:e.filterUrl,limit:e.limit,groupBys:e.groupBys,metaDataOnly:!0===e.metaDataOnly,joinToFirst:!0===e.joinToFirst};for(r=0;r<e.measures.length;r++){var c=e.measures[r],p={measure:c.measure,time:c.time};if(c.dimension&&(p.dimension=c.dimension),c.dateOptions&&(p.dateOptions=c.dateOptions),c.filterArray){for(p.filterArray=c.filterArray,t=[],a=0;a<p.filterArray.length;a++)(u=p.filterArray[a])&&u.getURLParameterName&&(o=encodeURIComponent(u.getURLParameterName())+"="+encodeURIComponent(u.getURLParameterValue()),t.push(o));p.filterArray=t}l.measures.push(p)}var f,d={};if(e.parameters)for(var m in e.parameters)e.parameters.hasOwnProperty(m)&&(d["visualization.param."+m]=e.parameters[m]);f=e.endpoint?e.endpoint+"?"+n.queryString(d):n.buildURL("visualization","getData",e.containerPath,d),s.request({url:f,method:"POST",jsonData:l,success:i.getCallbackWrapper(i.getOnSuccess(e),e.scope),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0)})},t.getDataFilterFromURL=function(){return n.getParameters().filterUrl},t.getFromUrl=function(e){var t=e||{};t.success=i.getOnSuccess(e),t.failure=i.getOnFailure(e);var r=n.getParameters(),a=!1;return t.reportId?a=!0:r.name&&(t.name=r.name,t.schemaName=r.schemaName,t.queryName=r.queryName,a=!0),a&&m(t),a},t.getMeasures=function(e){var t={};e.filters&&e.filters.length&&(t.filters=e.filters),void 0!==e.dateMeasures&&(t.dateMeasures=e.dateMeasures),void 0!==e.allColumns&&(t.allColumns=e.allColumns),void 0!==e.showHidden&&(t.showHidden=e.showHidden),s.request({url:n.buildURL("visualization","getMeasures"),method:"GET",params:t,success:p.getSuccessCallbackWrapper(f,i.getOnSuccess(e),e.scope),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0)})},t.getTypes=function(e){s.request({url:n.buildURL("visualization","getVisualizationTypes"),method:"GET",success:p.getSuccessCallbackWrapper(d,i.getOnSuccess(e),e.scope),failure:i.getCallbackWrapper(i.getOnFailure(e),e.scope,!0)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0),i=r(9);function o(e){return e&&e.success&&e.values?e.values:[]}var u=function(){function e(e){e&&e.hasOwnProperty("isUserDefined")&&(this._isUserDefined=e.isUserDefined),s.apply(this,e)}return e.prototype.getDescription=function(){return this.description},e.prototype.getLabel=function(){return this.label},e.prototype.getName=function(){return this.name},e.prototype.getQueryName=function(){return this.queryName},e.prototype.getSchemaName=function(){return this.schemaName},e.prototype.getType=function(){return this.type},e.prototype.getValues=function(e){n.request({url:a.buildURL("visualization","getDimensionValues"),method:"GET",params:{name:this.name,queryName:this.queryName,schemaName:this.schemaName},success:i.getSuccessCallbackWrapper(o,s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},e.prototype.isUserDefined=function(){return this._isUserDefined},e}();t.Dimension=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(3).getServerContext();t.currentContainer=a.container,t.currentUser=a.user,t.effectivePermissions={insert:"org.labkey.api.security.permissions.InsertPermission",read:"org.labkey.api.security.permissions.ReadPermission",admin:"org.labkey.api.security.permissions.AdminPermission",del:"org.labkey.api.security.permissions.DeletePermission",readOwn:"org.labkey.api.security.permissions.ReadSomePermission",update:"org.labkey.api.security.permissions.UpdatePermission"},t.permissions={read:1,insert:2,update:4,del:8,readOwn:16,updateOwn:64,deleteOwn:128,admin:32768,all:65535},t.roles={admin:65535,editor:15,author:195,reader:1,restrictedReader:16,submitter:2,noPerms:0},t.systemGroups={administrators:-1,users:-2,guests:-3,developers:-4}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),"undefined"!=typeof jQuery?LABKEY.$=jQuery:console.warn("jQuery not available. When using the DOM version of the LabKey API jQuery is expected to be available."),t.loadDOMContext=function(){return LABKEY}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0);t.importRun=function(e){if(!window.FormData)throw new Error("modern browser required");if(!e.assayId)throw new Error("assayId required");var t=[];if(e.files)for(var r=0;r<e.files.length;r++){var i=e.files[r];if(i instanceof window.File)t.push(i);else if("INPUT"==i.tagName)for(var o=0;o<i.files.length;o++)t.push(i.files[o])}if(0===t.length&&!e.runFilePath&&!e.dataRows)throw new Error('At least one of "file", "runFilePath", or "dataRows" is required');if((t.length>0?1:0)+(e.runFilePath?1:0)+(e.dataRows?1:0)>1)throw new Error('Only one of "file", "runFilePath", or "dataRows" is allowed');var u=new FormData;if(u.append("assayId",e.assayId),e.name&&u.append("name",e.name),e.comment&&u.append("comment",e.comment),e.batchId&&u.append("batchId",e.batchId),e.properties)for(var l in e.properties)e.properties.hasOwnProperty(l)&&(s.isObject(e.properties[l])?u.append("properties['"+l+"']",JSON.stringify(e.properties[l])):u.append("properties['"+l+"']",e.properties[l]));if(e.batchProperties)for(var l in e.batchProperties)e.batchProperties.hasOwnProperty(l)&&(s.isObject(e.batchProperties[l])?u.append("batchProperties['"+l+"']",JSON.stringify(e.batchProperties[l])):u.append("batchProperties['"+l+"']",e.batchProperties[l]));if(e.dataRows&&u.append("dataRows",JSON.stringify(e.dataRows)),e.runFilePath&&u.append("runFilePath",e.runFilePath),t&&t.length>0)for(u.append("file",t[0]),r=0;r<t.length;r++)u.append("file"+r,t[r]);n.request({url:a.buildURL("assay","importRun.api",e.containerPath),method:"POST",success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),form:u})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0),i=r(4),o=r(10);t.exportSql=function(e){o.postToAction(a.buildURL("query","exportSql",e.containerPath),{containerFilter:e.containerFilter,format:e.format,schemaName:e.schemaName,sql:e.sql})},t.exportTables=function(e){var t={};e.headerType&&(t.headerType=e.headerType);var r=s.merge({},e.schemas);for(var n in r)if(r.hasOwnProperty(n))for(var u=r[n],l=0;l<u.length;l++){var c=u[l],p=s.merge({},c);delete p.filter,delete p.filterArray,delete p.sort,p.filters=i.appendFilterParams(null,c.filters||c.filterArray),c.sort&&(p.filters["query.sort"]=c.sort),u[l]=p}t.schemas=JSON.stringify(r),o.postToAction(a.buildURL("query","exportTables.view"),t)},t.importData=function(e){if(!window.FormData)throw new Error("modern browser required");var t=new FormData;return t.append("schemaName",e.schemaName),t.append("queryName",e.queryName),e.text&&t.append("text",e.text),e.path&&t.append("path",e.path),e.format&&t.append("format",e.format),e.module&&t.append("module",e.module),e.moduleResource&&t.append("moduleResource",e.moduleResource),e.importIdentity&&t.append("importIdentity",e.importIdentity),void 0!==e.importLookupByAlternateKey&&t.append("importLookupByAlternateKey",e.importLookupByAlternateKey.toString()),void 0!==e.saveToPipeline&&t.append("saveToPipeline",e.saveToPipeline.toString()),void 0!==e.insertOption&&t.append("insertOption",e.insertOption),e.file&&(e.file instanceof File?t.append("file",e.file):"INPUT"==e.file.tagName&&e.file.files.length>0&&t.append("file",e.file.files[0])),n.request({url:e.importUrl||a.buildURL("query","import.api",e.containerPath),method:"POST",form:t,success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),timeout:e.timeout})}},function(e,t,r){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1));t.ActionURL=n;var s=a(r(2));t.Ajax=s;var i=a(r(21));t.Assay=i;var o=a(r(12));t.Domain=o;var u=r(5);t.FieldKey=u.FieldKey;var l=a(r(23));t.Filter=l;var c=a(r(24));t.List=c;var p=r(25);t.MultiRequest=p.MultiRequest;var f=a(r(26));t.Message=f;var d=a(r(27));t.ParticipantGroup=d;var m=a(r(28));t.Pipeline=m;var g=a(r(29));t.Query=g;var y=r(6);t.QueryKey=y.QueryKey;var h=a(r(38));t.Report=h;var v=r(8);t.SchemaKey=v.SchemaKey;var b=a(r(39));t.Security=b;var S=a(r(45));t.Specimen=S;var O=a(r(0));t.Utils=O;var P=a(r(46));t.Visualization=P;var T=a(r(18));t.AssayDOM=T;var w=a(r(19));t.QueryDOM=w;var N=a(r(10));t.UtilsDOM=N},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(1),s=r(2),i=r(4),o=r(0);function u(e){arguments.length>1&&(e={success:arguments[0],failure:arguments[1],parameters:arguments[2],containerPath:arguments[3]}),l(e,"id"),l(e,"type"),l(e,"name"),s.request({url:n.buildURL("assay","assayList.api",e.containerPath),method:"POST",jsonData:e.parameters,success:function(e,t){var r=this;return o.getCallbackWrapper(function(t,a){e&&e.call(r,t.definitions,a)},t||this)}(o.getOnSuccess(e),e.scope),failure:o.getCallbackWrapper(o.getOnFailure(e),e.scope,!0),scope:e.scope||this})}function l(e,t){e.parameters||(e.parameters={}),e[t]&&(e.parameters[t]=e[t],delete e[t])}t.getAll=function(e){arguments.length>1&&(e={success:arguments[0],failure:arguments[1],parameters:{},containerPath:arguments[2]}),u(e)},function(e){e.BATCHES="batches",e.BEGIN="begin",e.DESIGN_COPY="designCopy",e.DESIGN_EDIT="designEdit",e.IMPORT="import",e.RESULT="result",e.RESULTS="results",e.RUNS="runs"}(a||(a={})),t.getById=function(e){var t=e;arguments.length>1&&(t={success:arguments[0],failure:arguments[1],parameters:{id:arguments[2]},containerPath:arguments[3]}),l(t,"id"),u(t)},t.getByName=function(e){var t=e;arguments.length>1&&(t={success:arguments[0],failure:arguments[1],parameters:{name:arguments[2]},containerPath:arguments[3]}),l(t,"name"),u(t)},t.getByType=function(e){var t=e;arguments.length>1&&(t={success:arguments[0],failure:arguments[1],parameters:{type:arguments[2]},containerPath:arguments[3]}),l(t,"type"),u(t)},t.getNAbRuns=function(e){var t=o.merge({},e);e.sort&&(t["query.sort"]=e.sort),e.offset&&(t["query.offset"]=e.offset),e.maxRows&&(e.maxRows<0?t["query.showRows"]="all":t["query.maxRows"]=e.maxRows);var r=o.getOnSuccess(e);s.request({url:n.buildURL("nabassay","getNabRuns",e.containerPath),method:"GET",params:i.appendFilterParams(t,e.filterArray),success:o.getCallbackWrapper(function(t){r&&r.call(e.scope,t.runs)},this),failure:o.getCallbackWrapper(o.getOnFailure(e),e.scope,!0),timeout:e.timeout})},t.getStudyNabGraphURL=function(e){var t={};o.applyTranslated(t,e,{objectIds:"id"},!0,!1),s.request({url:n.buildURL("nabassay","getStudyNabGraphURL"),method:"GET",params:t,success:o.getCallbackWrapper(o.getOnSuccess(e),e.scope),failure:o.getCallbackWrapper(o.getOnFailure(e)||o.displayAjaxErrorResponse,e.scope,!0),timeout:e.timeout})},t.getStudyNabRuns=function(e){var t=o.merge({},e),r=o.getOnSuccess(e);s.request({url:n.buildURL("nabassay","getStudyNabRuns",e.containerPath),method:"GET",params:t,success:o.getCallbackWrapper(function(t){r&&r.call(e.scope,t.runs)},this),failure:o.getCallbackWrapper(o.getOnFailure(e)||o.displayAjaxErrorResponse,e.scope,!0),timeout:e.timeout})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiValueToSingleMap={in:"eq",containsoneof:"contains",containsnoneof:"doesnotcontain",between:"gte",notbetween:"lt"},t.oppositeMap={eq:"neqornull",dateeq:"dateneq",dateneq:"dateeq",neqornull:"eq",neq:"eq",isblank:"isnonblank",isnonblank:"isblank",gt:"lte",dategt:"datelte",lt:"gte",datelt:"dategte",gte:"lt",dategte:"datelt",lte:"gt",datelte:"dategt",contains:"doesnotcontain",doesnotcontain:"contains",doesnotstartwith:"startswith",startswith:"doesnotstartwith",in:"notin",notin:"in",memberof:"memberof",containsoneof:"containsnoneof",containsnoneof:"containsoneof",hasmvvalue:"nomvvalue",nomvvalue:"hasmvvalue",between:"notbetween",notbetween:"between"},t.singleValueToMultiMap={eq:"in",neq:"notin",neqornull:"notin",doesnotcontain:"containsnoneof",contains:"containsoneof"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(4);t.appendAggregateParams=a.appendAggregateParams,t.appendFilterParams=a.appendFilterParams,t.create=a.create,t.getFilterDescription=a.getFilterDescription,t.getFiltersFromUrl=a.getFiltersFromUrl,t.getQueryParamsFromUrl=a.getQueryParamsFromUrl,t.getSortFromUrl=a.getSortFromUrl,t.merge=a.merge;var n=r(11);t.getDefaultFilterForType=n.getDefaultFilterForType,t.getFilterTypeForURLSuffix=n.getFilterTypeForURLSuffix,t.getFilterTypesForType=n.getFilterTypesForType,t.Types=n.Types},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(12);t.create=function(e){var t={domainDesign:e,options:{}};if(!t.domainDesign.name)throw new Error("List name required");if(e.kind||("int"==e.keyType?e.kind="IntList":"string"==e.keyType&&(e.kind="VarList")),"IntList"!=e.kind&&"VarList"!=e.kind)throw new Error("Domain kind or keyType required");if(t.kind=e.kind,!e.keyName)throw new Error("List keyName required");t.options.keyName=e.keyName,a.create(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0);t.MultiRequest=function(e){e=e||{};var t,r,n=[],s=this,i=!1,o=[],u=[];if(a.isArray(e)?r=e:(r=e.requests,t=e.listeners),r)for(var l=0;l<r.length;l++){var c=r[l];this.add(c[0],c[1])}function p(e,t){"function"==typeof e?n.push({fn:e,scope:t}):"function"==typeof e.fn&&n.push({fn:e.fn,scope:e.scope||t})}function f(){return o.pop(),0==o.length&&(i=!1,function(){for(var e=0;e<n.length;e++){var t=n[e];t.fn&&"function"==typeof t.fn&&t.fn.call(t.scope||window)}}(),s.send()),!0}function d(e,t,r){return function(){var a=e.apply(r||this||window,arguments);return t.apply(r||this||window,arguments),a}}t&&t.done&&p(t.done,t.scope),u.length&&n.length>0&&this.send(),this.add=function(e,t,r){t=t||{};var n=a.getOnSuccess(t);n||(n=function(){}),n._hookInstalled||(t.success=d(n,f,t.scope),t.success._hookInstalled=!0);var s=a.getOnFailure(t);return s||(s=function(){}),s._hookInstalled||(t.failure=d(s,f,t.scope),t.failure._hookInstalled=!0),u.push({args:[t],fn:e,scope:r}),this},this.send=function(e,t){if(!i&&0!==u.length){i=!0,o=u,u=[];for(var r=o.length,a=0;a<r;a++){var n=o[a];n.fn.apply(n.scope||window,n.args)}p(e,t)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0);t.createMsgContent=function(e,t){return{content:t,type:e}},t.createPrincipalIdRecipient=function(e,t){return{principalId:t,type:e}},t.createRecipient=function(e,t){return{address:t,type:e}},t.msgType={html:"text/html",plain:"text/plain"},t.recipientType={bcc:"BCC",cc:"CC",to:"TO"},t.sendMessage=function(e){var t={};return void 0!=e.msgFrom&&(t.msgFrom=e.msgFrom),void 0!=e.msgRecipients&&(t.msgRecipients=e.msgRecipients),void 0!=e.msgContent&&(t.msgContent=e.msgContent),void 0!=e.msgSubject&&(t.msgSubject=e.msgSubject),n.request({url:a.buildURL("announcements","sendMessage.api"),method:"POST",jsonData:t,success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0);t.updateParticipantGroup=function(e){var t={rowId:e.rowId};e.participantIds&&(t.participantIds=e.participantIds),e.ensureParticipantIds&&(t.ensureParticipantIds=e.ensureParticipantIds),e.deleteParticipantIds&&(t.deleteParticipantIds=e.deleteParticipantIds),e.label&&(t.label=e.label),e.description&&(t.description=e.description),e.filters&&(t.filters=e.filters),n.request({url:a.buildURL("participant-group","updateParticipantGroup.api",e.containerPath),method:e.method||"POST",jsonData:t,success:s.getCallbackWrapper(function(t){e.success(t.group)},this),failure:s.getCallbackWrapper(e.failure,this,!0)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0);t.getFileStatus=function(e){var t=this,r={taskId:e.taskId,path:e.path,file:e.files,protocolName:e.protocolName},i=s.getOnSuccess(e);n.request({url:a.buildURL("pipeline-analysis","getFileStatus.api",e.containerPath),method:"POST",params:r,success:s.getCallbackWrapper(function(e,r){i.call(t,e.files,e.submitType,r)},e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),timeout:6e7})},t.getPipelineContainer=function(e){return n.request({url:a.buildURL("pipeline","getPipelineContainer.api",e.containerPath),method:"GET",success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.getProtocols=function(e){var t=this,r={taskId:e.taskId,includeWorkbooks:!!e.includeWorkbooks,path:e.path},i=s.getOnSuccess(e);n.request({url:a.buildURL("pipeline-analysis","getSavedProtocols.api",e.containerPath),method:"POST",params:r,success:s.getCallbackWrapper(function(e,r){i.call(t,e.protocols,e.defaultProtocolName,r)},e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.startAnalysis=function(e){if(!e.protocolName)throw"Invalid config, must include protocolName property";var t={allowNonExistentFiles:e.allowNonExistentFiles,file:e.files,fileIds:e.fileIds,path:e.path,pipelineDescription:e.pipelineDescription,protocolDescription:e.protocolDescription,protocolName:e.protocolName,saveProtocol:void 0==e.saveProtocol||e.saveProtocol,taskId:e.taskId};if(e.xmlParameters){if("object"==typeof e.xmlParameters)throw new Error("The xml configuration is deprecated, please user the jsonParameters option to specify your protocol description.");t.configureXml=e.xmlParameters}else e.jsonParameters&&(t.configureJson=s.isString(e.jsonParameters)?e.jsonParameters:s.encode(e.jsonParameters));n.request({url:a.buildURL("pipeline-analysis","startAnalysis.api",e.containerPath),method:"POST",params:t,success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),timeout:6e7})}},function(e,t,r){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=r(7);t.buildQueryParams=n.buildQueryParams,t.containerFilter=n.containerFilter,t.deleteQueryView=n.deleteQueryView,t.getQueries=n.getQueries,t.getQueryViews=n.getQueryViews,t.getSchemas=n.getSchemas,t.getServerDate=n.getServerDate,t.saveQueryViews=n.saveQueryViews,t.sqlDateLiteral=n.sqlDateLiteral,t.sqlDateTimeLiteral=n.sqlDateTimeLiteral,t.sqlStringLiteral=n.sqlStringLiteral,t.URL_COLUMN_PREFIX=n.URL_COLUMN_PREFIX,t.validateQuery=n.validateQuery;var s=r(30);t.executeSql=s.executeSql;var i=a(r(31));t.GetData=i;var o=r(32);t.getQueryDetails=o.getQueryDetails;var u=r(33);t.deleteRows=u.deleteRows,t.insertRows=u.insertRows,t.saveRows=u.saveRows,t.selectDistinctRows=u.selectDistinctRows,t.selectRows=u.selectRows,t.updateRows=u.updateRows;var l=a(r(34)),c=a(r(14));t.Visualization=c;var p=r(4);t.Filter=p.Filter;var f={SQL:l};t.experimental=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(1),s=r(0),i=r(7);t.executeSql=function(e){return a.request({url:n.buildURL("query","executeSql.api",e.containerPath,function(e){var t={};return e.sort&&(t["query.sort"]=e.sort),t}(e)),method:"POST",success:i.getSuccessCallbackWrapper(s.getOnSuccess(e),e.stripHiddenColumns,e.scope,e.requiredVersion),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),jsonData:function(e){var t={schemaName:e.schemaName,sql:e.sql};if(void 0!==e.saveInSession&&null!==e.saveInSession&&(t.saveInSession=e.saveInSession),void 0!==e.maxRows&&e.maxRows>=0&&(t.maxRows=e.maxRows),e.offset&&e.offset>0&&(t.offset=e.offset),void 0!=e.includeTotalCount&&(t.includeTotalCount=e.includeTotalCount),e.containerFilter&&(t.containerFilter=e.containerFilter),e.requiredVersion&&(t.apiVersion=e.requiredVersion),e.includeStyle&&(t.includeStyle=e.includeStyle),e.parameters)for(var r in e.parameters)e.parameters.hasOwnProperty(r)&&(t["query.param."+r]=e.parameters[r]);return t}(e),timeout:e.timeout})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(5),i=r(8),o=r(0),u=r(13);function l(e){return e instanceof s.FieldKey?e.getParts():e instanceof Array?e:o.isString(e)?s.FieldKey.fromString(e).getParts():void 0}function c(e){if(e&&o.isFunction(e.getColumnName))return{fieldKey:s.FieldKey.fromString(e.getColumnName()).getParts(),type:e.getFilterType().getURLSuffix(),value:e.getValue()};if(!e.fieldKey)throw new Error('All filters must have a "fieldKey" attribute.');if(e.fieldKey=l(e.fieldKey),!e.fieldKey)throw new Error("Filter fieldKeys must be valid FieldKeys");if(!e.type)throw new Error('All filters must have a "type" attribute.');return e}function p(e){if(e.type&&"aggregate"===e.type||(e.type="aggregate"),e.groupBy&&null!=e.groupBy&&!o.isArray(e.groupBy))throw new Error("groupBy must be an array.");if(e.aggregates&&null!=e.aggregates){if(!o.isArray(e.aggregates))throw new Error("aggregates must be an array.");for(var t=0;t<e.aggregates.length;t++){if(!e.aggregates[t].fieldKey)throw new Error("All aggregates must include a fieldKey.");if(e.aggregates[t].fieldKey=l(e.aggregates[t].fieldKey),!e.aggregates[t].fieldKey)throw new Error("Aggregate fieldKeys must be valid fieldKeys");if(!e.aggregates[t].type)throw new Error("All aggregates must include a type.")}}if(e.filters&&null!=e.filters){if(!o.isArray(e.filters))throw new Error("The filters of a transform must be an array.");for(t=0;t<e.filters.length;t++)e.filters[t]=c(e.filters[t])}}t.getRawData=function(e){var t=this,r=function(e){if(!e||null===e||void 0===e)throw new Error("A config object is required for GetData requests.");var t=e.source;!function(e){if(!e||null==e)throw new Error("A source is required for a GetData request.");if(e.type||(e.type="query"),"query"===e.type){if(!e.queryName||null==e.queryName)throw new Error('A queryName is required for getData requests with type = "query"')}else{if("sql"!==e.type)throw new Error("Unsupported source type.");if(!e.sql)throw new Error('sql is required if source.type = "sql"')}if(!e.schemaName)throw new Error("A schemaName is required.");if(e.schemaName=function(e){return e instanceof i.SchemaKey?e.getParts():e instanceof Array?e:o.isString(e)?i.SchemaKey.fromString(e).getParts():void 0}(e.schemaName),!e.schemaName)throw new Error("schemaName must be a FieldKey")}(t);var r={renderer:{},source:{schemaName:t.schemaName,type:t.type}};if("query"===t.type?r.source.queryName=t.queryName:"sql"===t.type&&(r.source.sql=t.sql),e.transforms){if(!o.isArray(e.transforms))throw new Error("transforms must be an array.");r.transforms=e.transforms;for(var a=0;a<r.transforms.length;a++)p(r.transforms[a])}if(e.pivot&&function(e){if(!e.columns||null==e.columns)throw new Error("pivot.columns is required.");if(!o.isArray(e.columns))throw new Error("pivot.columns must be an array of fieldKeys.");for(var t=0;t<e.columns.length;t++)if(e.columns[t]=l(e.columns[t]),!e.columns[t])throw new Error("pivot.columns must be an array of fieldKeys.");if(!e.by||null==e.by)throw new Error("pivot.by is required");if(e.by=l(e.by),0==!e.by)throw new Error("pivot.by must be a fieldKey.")}(e.pivot),e.columns){if(!o.isArray(e.columns))throw new Error("columns must be an array of FieldKeys.");for(var a=0;a<e.columns.length;a++)if(e.columns[a]=l(e.columns[a]),!e.columns[a])throw new Error("columns must be an array of FieldKeys.");r.renderer.columns=e.columns}if(e.hasOwnProperty("offset")&&(r.renderer.offset=e.offset),e.hasOwnProperty("includeDetailsColumn")&&(r.renderer.includeDetailsColumn=e.includeDetailsColumn),e.hasOwnProperty("maxRows")&&(r.renderer.maxRows=e.maxRows),e.sort){if(!o.isArray(e.sort))throw new Error("sort must be an array.");for(var a=0;a<e.sort.length;a++){if(!e.sort[a].fieldKey)throw new Error("Each sort must specify a field key.");if(e.sort[a].fieldKey=l(e.sort[a].fieldKey),!e.sort[a].fieldKey)throw new Error("Invalid field key specified for sort.");e.sort[a].dir&&(e.sort[a].dir=e.sort[a].dir.toUpperCase())}r.renderer.sort=e.sort}return r}(e);if(r.renderer.type="json",!e.success)throw new Error("A success callback is required");return n.request({url:a.buildURL("query","getData",e.source.containerPath),method:"POST",jsonData:r,success:function(r,a){var n=o.decode(r.responseText);e.success.call(e.scope||t,new u.Response(n),r,a)},failure:function(t,r){var a=o.decode(t.responseText);e.failure?e.failure(a):0!=t.status&&console.error("Failure occurred during getData",a)}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(1),s=r(0);t.getQueryDetails=function(e){return a.request({url:n.buildURL("query","getQueryDetails.api",e.containerPath),method:"GET",success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),params:function(e){var t={};return e.schemaName&&(t.schemaName=e.schemaName),e.queryName&&(t.queryName=e.queryName),void 0!=e.viewName&&(t.viewName=e.viewName),e.fields&&(t.fields=e.fields),e.fk&&(t.fk=e.fk),e.initializeMissingView&&(t.initializeMissingView=e.initializeMissingView),t}(e)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(1),s=r(0),i=r(7);function o(e){return{schemaName:e[0],queryName:e[1],rows:e[2],success:e[3],failure:e[4]}}function u(e){return a.request({url:n.buildURL("query",e.action,e.containerPath),method:"POST",success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),jsonData:{schemaName:e.schemaName,queryName:e.queryName,rows:e.rows||e.rowDataArray,transacted:e.transacted,extraContext:e.extraContext},timeout:e.timeout})}t.deleteRows=function(e){return arguments.length>1&&(e=o(arguments)),e.action="deleteRows.api",u(e)},t.insertRows=function(e){return arguments.length>1&&(e=o(arguments)),e.action="insertRows.api",u(e)},t.saveRows=function(e){return arguments.length>1&&(e=o(arguments)),a.request({url:n.buildURL("query","saveRows.api",e.containerPath),method:"POST",jsonData:{apiVersion:e.apiVersion,commands:e.commands,containerPath:e.containerPath,extraContext:e.extraContext,transacted:!0===e.transacted,validateOnly:!0===e.validateOnly},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),timeout:e.timeout})},t.selectDistinctRows=function(e){if(!e.schemaName)throw"You must specify a schemaName!";if(!e.queryName)throw"You must specify a queryName!";if(!e.column)throw"You must specify a column!";return a.request({url:n.buildURL("query","selectDistinct.api",e.containerPath),method:i.getMethod(e.method),success:i.getSuccessCallbackWrapper(s.getOnSuccess(e),!1,e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),params:function(e){var t=i.buildQueryParams(e.schemaName,e.queryName,e.filterArray,e.sort,e.dataRegionName),r=t.dataRegionName;if(t[r+".columns"]=e.column,e.viewName&&(t[r+".viewName"]=e.viewName),e.maxRows&&e.maxRows>=0&&(t.maxRows=e.maxRows),e.containerFilter&&(t.containerFilter=e.containerFilter),e.parameters)for(var a in e.parameters)e.parameters.hasOwnProperty(a)&&(t[r+".param."+a]=e.parameters[a]);return e.ignoreFilter&&(t[r+".ignoreFilter"]=!0),t}(e)})},t.selectRows=function(e){if(arguments.length>1&&(e=function(e){return{schemaName:e[0],queryName:e[1],success:e[2],failure:e[3],filterArray:e[4],sort:e[5],viewName:e[6]}}(arguments)),!e.schemaName)throw"You must specify a schemaName!";if(!e.queryName)throw"You must specify a queryName!";return a.request({url:n.buildURL("query","getQuery.api",e.containerPath),method:i.getMethod(e.method),success:i.getSuccessCallbackWrapper(s.getOnSuccess(e),e.stripHiddenColumns,e.scope,e.requiredVersion),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),params:function(e){var t=i.buildQueryParams(e.schemaName,e.queryName,e.filterArray,e.sort,e.dataRegionName),r=t.dataRegionName;if(e.showRows&&"paginated"!==e.showRows?-1!==["all","selected","unselected","none"].indexOf(e.showRows)&&(t[r+".showRows"]=e.showRows):(e.offset&&(t[r+".offset"]=e.offset),void 0!=e.maxRows&&(e.maxRows<0?t[r+".showRows"]="all":t[r+".maxRows"]=e.maxRows)),e.viewName&&(t[r+".viewName"]=e.viewName),e.columns&&(t[r+".columns"]=s.isArray(e.columns)?e.columns.join(","):e.columns),e.selectionKey&&(t[r+".selectionKey"]=e.selectionKey),e.ignoreFilter&&(t[r+".ignoreFilter"]=1),e.parameters)for(var a in e.parameters)e.parameters.hasOwnProperty(a)&&(t[r+".param."+a]=e.parameters[a]);return e.requiredVersion&&(t.apiVersion=e.requiredVersion),e.containerFilter&&(t.containerFilter=e.containerFilter),e.includeTotalCount&&(t.includeTotalCount=e.includeTotalCount),e.includeDetailsColumn&&(t.includeDetailsColumn=e.includeDetailsColumn),e.includeUpdateColumn&&(t.includeUpdateColumn=e.includeUpdateColumn),e.includeStyle&&(t.includeStyle=e.includeStyle),t}(e),timeout:e.timeout})},t.updateRows=function(e){return arguments.length>1&&(e=o(arguments)),e.action="updateRows.api",u(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0),i={nul:"\0",bs:"\b",rs:"",us:""},o={BIGINT:parseInt,BOOLEAN:parseInt,DOUBLE:parseFloat,INTEGER:parseInt,NUMERIC:parseFloat,REAL:parseFloat,SMALLINT:parseInt,TIMESTAMP:function(e){if(!e)return null;var t;t=0<e.indexOf("-")?Date.parse(e):parseFloat(e);return new Date(!isNaN(t)&&isFinite(t)?t:e)},TINYINT:parseInt};function u(e){return e}t.asObjects=function(e,t){for(var r={},a=0;a<e.length;a++)r[e[a]]=null;for(var n=[],s=0;s<t.length;s++){for(var i=t[s],o=Object.assign({},r),u=Math.min(e.length,i.length),l=0;l<u;l++)o[e[l]]=i[l];n.push(o)}return n},t.execute=function(e){if(!e.schema)throw"You must specify a schema!";if(!e.sql)throw"You must specify sql statement!";var t=e.eol||i.us+"\n",r=e.sep||i.us+"\t",l={compact:1,eol:t,parameters:e.parameters,schema:e.schema,sep:r,sql:e.sql};return n.request({url:a.buildURL("sql","execute",e.containerPath),method:"POST",jsonData:l,success:function(a){var n=function(e,t,r){var a=e.split(r);""===function(e){return e.replace(/[\s\uFEFF\xA0]+$/g,"")}(a[a.length-1])&&a.pop();for(var n=0,s=a[n++].split(t),l=a[n++].split(t),c=[],p=a[n++].split(t),f=0;f<p.length;f++)c.push(o[p[f]]||u);a=a.slice(s.length);for(var d=0;d<a.length;d++){for(var m=a[d].split(t),g=0;g<m.length;g++){var y=m[g];""===y?m[g]=null:i.bs===y&&d>0?m[g]=a[d-1][g]:m[g]=c[g](y)}a[d]=m}return a.pop(),a.pop(),{names:l,rows:a,types:p}}(a.responseText,r,t);s.getOnSuccess(e)(n)},failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0),timeout:e.timeout})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Aggregate={AVG:"AVG",COUNT:"COUNT",MAX:"MAX",MIN:"MIN",SUM:"SUM"},t.Interval={DAY:"DAY",MONTH:"MONTH",WEEK:"WEEK",YEAR:"YEAR"},t.Type={GenericChart:"ReportService.GenericChartReport",TimeChart:"ReportService.TimeChartReport"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){if(!e.schemaName)throw new Error("You must supply a value for schemaName in your configuration object!");var t=[e.schemaName,e.queryName?e.queryName:"~"];return e.queryType&&t.push(e.queryType),t.join("|")},t.QueryType={BUILT_IN:"builtIn",CUSTOM:"custom",DATASETS:"datasets",ALL:"all"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0),i=r(15),o=r(9);function u(e){var t=[];if(e.dimensions&&e.dimensions.length)for(var r=0;r<e.dimensions.length;r++)t.push(new i.Dimension(e.dimensions[r]));return t}var l=function(){function e(e){e&&e.hasOwnProperty("isUserDefined")&&(this._isUserDefined=e.isUserDefined),s.apply(this,e)}return e.prototype.getDescription=function(){return this.description},e.prototype.getDimensions=function(e){var t={queryName:this.queryName,schemaName:this.schemaName};e.includeDemographics&&(t.includeDemographics=!0),n.request({url:a.buildURL("visualization","getDimensions"),method:"GET",params:t,success:o.getSuccessCallbackWrapper(u,s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},e.prototype.getLabel=function(){return this.label},e.prototype.getName=function(){return this.name},e.prototype.getQueryName=function(){return this.queryName},e.prototype.getSchemaName=function(){return this.schemaName},e.prototype.getType=function(){return this.type},e.prototype.isUserDefined=function(){return this._isUserDefined},e}();t.Measure=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0);function i(e,t){return n.request({url:a.buildURL("reports","execute",e.containerPath),method:"POST",jsonData:function(e,t){var r={};t?(e.reportId&&(r.reportId=e.reportId),e.reportName&&(r.reportName=e.reportName),e.schemaName&&(r.schemaName=e.schemaName),e.queryName&&(r.queryName=e.queryName)):e.functionName&&(r.functionName=e.functionName);e.reportSessionId&&(r.reportSessionId=e.reportSessionId);if(e.inputParams)for(var a in r.inputParams={},e.inputParams)e.inputParams.hasOwnProperty(a)&&(r.inputParams[a]=e.inputParams[a]);return r}(e,t),success:function(e,t){var r=this;return s.getCallbackWrapper(function(a,n,i){if(a&&a.outputParams)for(var o=0;o<a.outputParams.length;o++){var u=a.outputParams[o];"json"==u.type&&(u.value=s.decode(u.value))}e&&e.call(t||r,a,i,n)},this)}(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})}t.createSession=function(e){n.request({url:a.buildURL("reports","createSession",e.containerPath),method:"POST",jsonData:{clientContext:e.clientContext},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.deleteSession=function(e){n.request({url:a.buildURL("reports","deleteSession",e.containerPath),method:"POST",params:{reportSessionId:e.reportSessionId},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.execute=function(e){if(!e)throw"You must supply a config object to call this method.";if(!e.reportId&&!e.reportName)throw"You must supply a value for the reportId or reportName config property.";return i(e,!0)},t.executeFunction=function(e){if(!e)throw"You must supply a config object to call this method.";if(!e.functionName)throw"You must supply a value for the functionName config property.";return i(e,!1)},t.getSessions=function(e){n.request({url:a.buildURL("reports","getSessions",e.containerPath),method:"POST",success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(16);t.currentContainer=a.currentContainer,t.currentUser=a.currentUser,t.effectivePermissions=a.effectivePermissions,t.permissions=a.permissions,t.roles=a.roles,t.systemGroups=a.systemGroups;var n=r(40);t.createContainer=n.createContainer,t.deleteContainer=n.deleteContainer,t.getContainers=n.getContainers,t.getFolderTypes=n.getFolderTypes,t.getHomeContainer=n.getHomeContainer,t.getModules=n.getModules,t.getSharedContainer=n.getSharedContainer,t.moveContainer=n.moveContainer;var s=r(41);t.getGroupPermissions=s.getGroupPermissions,t.getRole=s.getRole,t.getRoles=s.getRoles,t.getSchemaPermissions=s.getSchemaPermissions,t.getSecurableResources=s.getSecurableResources,t.getUserPermissions=s.getUserPermissions,t.hasEffectivePermission=s.hasEffectivePermission,t.hasPermission=s.hasPermission;var i=r(42);t.createNewUser=i.createNewUser,t.ensureLogin=i.ensureLogin,t.getUsers=i.getUsers;var o=r(43);t.addGroupMembers=o.addGroupMembers,t.createGroup=o.createGroup,t.deleteGroup=o.deleteGroup,t.removeGroupMembers=o.removeGroupMembers,t.renameGroup=o.renameGroup;var u=r(44);t.deletePolicy=u.deletePolicy,t.getPolicy=u.getPolicy,t.savePolicy=u.savePolicy},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(1),s=r(0),i=r(3);t.createContainer=function(e){return a.request({url:n.buildURL("core","createContainer.api",e.containerPath),method:"POST",jsonData:{description:e.description,folderType:e.folderType,isWorkbook:e.isWorkbook,name:e.name,title:e.title},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.deleteContainer=function(e){return a.request({url:n.buildURL("core","deleteContainer.api",e.containerPath),method:"POST",success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.getContainers=function(e){var t={};return e&&(void 0!=e.container&&(s.isArray(e.container)?(t.multipleContainers=!0,t.container=e.container):t.container=[e.container]),void 0!=e.includeSubfolders&&(t.includeSubfolders=!0===e.includeSubfolders),void 0!=e.depth&&(t.depth=e.depth),void 0!=e.moduleProperties&&(t.moduleProperties=e.moduleProperties),void 0!=e.includeEffectivePermissions&&(t.includeEffectivePermissions=!0===e.includeEffectivePermissions)),a.request({url:n.buildURL("project","getContainers.api",e.containerPath),params:t,success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.getFolderTypes=function(e){return a.request({url:n.buildURL("core","getFolderTypes.api",e.containerPath),method:"POST",success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.getHomeContainer=function(){return i.getServerContext().homeContainer},t.getModules=function(e){return a.request({url:n.buildURL("admin","getModules.api",e.containerPath),method:"POST",success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.getSharedContainer=function(){return i.getServerContext().sharedContainer},t.moveContainer=function(e){var t={addAlias:!1!==e.addAlias,container:e.container||e.containerPath,parent:e.destinationParent||e.parent||e.parentPath};if(!t.container)throw"'containerPath' must be specified for LABKEY.Security.moveContainer invocation.";if(!t.parent)throw"'parent' must be specified for LABKEY.Security.moveContainer invocation.";return a.request({url:n.buildURL("core","moveContainer.api",t.container),method:"POST",jsonData:t,success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(1),s=r(0),i=r(16);function o(e){var t={};return void 0!=e.includeSubfolders&&(t.includeSubfolders=!0===e.includeSubfolders),void 0!=e.includeEffectivePermissions&&(t.includeEffectivePermissions=!0===e.includeEffectivePermissions),a.request({url:n.buildURL("security","getSecurableResources.api",e.containerPath),params:t,success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})}t.getGroupPermissions=function(e){var t={};return void 0!==e.includeSubfolders&&(t.includeSubfolders=!0===e.includeSubfolders),a.request({url:n.buildURL("security","getGroupPerms.api",e.containerPath),params:t,success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.getRole=function(e){for(var t in i.roles)if(i.roles.hasOwnProperty(t)&&e===i.roles[t])return t},t.getRoles=function(e){return a.request({url:n.buildURL("security","getRoles.api",e.containerPath),success:s.getCallbackWrapper(function(t,r){var a,n,i,o,u={};for(a=0;a<t.permissions.length;a++)u[(i=t.permissions[a]).uniqueName]=i;for(a=0;a<t.roles.length;a++)for(o=t.roles[a],n=0;n<o.permissions.length;++n)o.permissions[n]=u[o.permissions[n]];var l=s.getOnSuccess(e);l&&l.call(e.scope||this,t.roles,r)},this),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.getSchemaPermissions=function(e){if(!e.schemaName||e.schemaName&&"study"!==e.schemaName)throw"Method only works for the study schema";var t=e;return t.includeEffectivePermissions=!0,t.success=function(t,r){for(var a=null,n=0;n<t.resources.children.length;n++){var s=t.resources.children[n];if("org.labkey.study.model.StudyImpl"==s.resourceClass){a=s;break}}if(null!=a){var i,o={queries:{}};for(n=0;n<a.children.length;n++){i=a.children[n],o.queries[i.name]=i,i.permissionMap={};for(var u=0;u<i.effectivePermissions.length;u++)i.permissionMap[i.effectivePermissions[u]]=!0}e.success.apply(e.scope||this,[{schemas:{study:o}},r])}else e.failure.apply(e.scope||this,[{description:"No study found in container."},r])},o(t)},t.getSecurableResources=o,t.getUserPermissions=function(e){var t={};return void 0!=e.userId?t.userId=e.userId:void 0!=e.userEmail&&(t.userEmail=e.userEmail),void 0!=e.includeSubfolders&&(t.includeSubfolders=!0===e.includeSubfolders),a.request({url:n.buildURL("security","getUserPerms.api",e.containerPath),params:t,success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.hasEffectivePermission=function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},t.hasPermission=function(e,t){return e&t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(1),s=r(0),i=r(3);t.createNewUser=function(e){return a.request({url:n.buildURL("security","createNewUser.api",e.containerPath),method:"POST",jsonData:{email:e.email,sendEmail:!0===e.sendEmail},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.ensureLogin=function(e){if(i.getServerContext().user.isGuest||e.force){if(!e.useSiteLoginPage)return a.request({url:n.buildURL("security","ensureLogin.api"),success:s.getCallbackWrapper(function(t,r){t.currentUser&&i.setGlobalUser(t.currentUser),s.getOnSuccess(e)&&s.getOnSuccess(e).call(e.scope||this,t,r)},this),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)});void 0!==typeof window&&(window.location.href=n.buildURL("login","login")+"?returnUrl="+i.getLocation())}else s.getOnSuccess(e).call(e.scope)},t.getUsers=function(e){var t={};return void 0!=e.groupId?t.groupId=e.groupId:void 0!=e.group&&(t.group=e.group),void 0!=e.name&&(t.name=e.name),void 0!=e.allMembers&&(t.allMembers=e.allMembers),void 0!=e.active&&(t.active=e.active),void 0!=e.permissions&&(s.isArray(e.permissions)?t.permissions=e.permissions:t.permissions=[e.permissions]),a.request({url:n.buildURL("user","getUsers.api",e.containerPath),params:t,success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(1),s=r(0);t.addGroupMembers=function(e){return a.request({url:n.buildURL("security","addGroupMember.api",e.containerPath),method:"POST",jsonData:{groupId:e.groupId,principalIds:s.isArray(e.principalIds)?e.principalIds:[e.principalIds]},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.createGroup=function(e){return a.request({url:n.buildURL("security","createGroup.api",e.containerPath),method:"POST",jsonData:{name:e.groupName},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.deleteGroup=function(e){return a.request({url:n.buildURL("security","deleteGroup.api",e.containerPath),method:"POST",jsonData:{id:e.groupId},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.removeGroupMembers=function(e){return a.request({url:n.buildURL("security","removeGroupMember.api",e.containerPath),method:"POST",jsonData:{groupId:e.groupId,principalIds:s.isArray(e.principalIds)?e.principalIds:[e.principalIds]},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.renameGroup=function(e){return a.request({url:n.buildURL("security","renameGroup.api",e.containerPath),method:"POST",jsonData:{id:e.groupId,newName:e.newName},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(1),s=r(0),i=r(3);t.deletePolicy=function(e){return a.request({url:n.buildURL("security","deletePolicy.api",e.containerPath),method:"POST",jsonData:{resourceId:e.resourceId},success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.getPolicy=function(e){return a.request({url:n.buildURL("security","getPolicy.api",e.containerPath),jsonData:{resourceId:e.resourceId},success:s.getCallbackWrapper(function(t,r){t.policy.requestedResourceId=e.resourceId;var a=new(0,i.getServerContext().SecurityPolicy)(t.policy);s.getOnSuccess(e).call(e.scope||this,a,t.relevantRoles,r)},this),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})},t.savePolicy=function(e){return a.request({url:n.buildURL("security","savePolicy.api",e.containerPath),method:"POST",jsonData:e.policy.policy,success:s.getCallbackWrapper(s.getOnSuccess(e),e.scope),failure:s.getCallbackWrapper(s.getOnFailure(e),e.scope,!0)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2),s=r(0);function i(e,t){return s.getCallbackWrapper(function(r){e(t?r[t]:r)},this)}t.addSamplesToRequest=function(e){l(e,arguments)&&(e={success:arguments[0],requestId:arguments[1],specimenHashArray:arguments[2],preferredLocation:arguments[3],failure:arguments[4],containerPath:arguments[5]}),n.request({url:a.buildURL("study-samples-api","addSamplesToRequest",e.containerPath),method:"POST",jsonData:{preferredLocation:e.preferredLocation,requestId:e.requestId,specimenHashes:e.specimenHashArray},success:i(s.getOnSuccess(e)),failure:s.getCallbackWrapper(u(s.getOnFailure(e)),this,!0)})},t.addVialsToRequest=function(e){l(e,arguments)&&(e={success:arguments[0],requestId:arguments[1],vialIdArray:arguments[2],idType:arguments[3],failure:arguments[4],containerPath:arguments[5]}),e.idType||(e.idType="GlobalUniqueId"),n.request({url:a.buildURL("study-samples-api","addVialsToRequest",e.containerPath),method:"POST",jsonData:{idType:e.idType,requestId:e.requestId,vialIds:e.vialIdArray},success:i(e.success),failure:s.getCallbackWrapper(u(e.failure),this,!0)})},t.cancelRequest=function(e){l(e,arguments)&&(e={success:arguments[0],requestId:arguments[1],failure:arguments[2],containerPath:arguments[3]}),n.request({url:a.buildURL("study-samples-api","cancelRequest",e.containerPath),method:"POST",jsonData:{requestId:e.requestId},success:i(e.success),failure:s.getCallbackWrapper(u(e.failure),this,!0)})},t.getOpenRequests=function(e){l(e,arguments)&&(e={success:arguments[0],allUsers:arguments[1],failure:arguments[2],containerPath:arguments[3]}),n.request({url:a.buildURL("study-samples-api","getOpenRequests",e.containerPath),method:"POST",jsonData:{allUsers:e.allUsers},success:i(e.success,"requests"),failure:s.getCallbackWrapper(u(e.failure),this,!0)})},t.getProvidingLocations=function(e){l(e,arguments)&&(e={success:arguments[0],specimenHashArray:arguments[1],failure:arguments[2],containerPath:arguments[3]}),n.request({url:a.buildURL("study-samples-api","getProvidingLocations",e.containerPath),method:"POST",jsonData:{specimenHashes:e.specimenHashArray},success:i(e.success,"locations"),failure:s.getCallbackWrapper(u(e.failure),this,!0)})},t.getRepositories=function(e){l(e,arguments)&&(e={success:arguments[0],failure:arguments[1],containerPath:arguments[2]}),n.request({url:a.buildURL("study-samples-api","getRespositories",e.containerPath),method:"POST",headers:{"Content-Type":"application/json"},success:i(e.success,"repositories"),failure:s.getCallbackWrapper(e.failure||s.displayAjaxErrorResponse,this,!0)})},t.getRequest=function(e){l(e,arguments)&&(e={success:arguments[0],requestId:arguments[1],failure:arguments[2],containerPath:arguments[3]}),n.request({url:a.buildURL("study-samples-api","getRequest",e.containerPath),method:"POST",jsonData:{requestId:e.requestId},success:i(e.success,"request"),failure:s.getCallbackWrapper(u(e.failure),this,!0)})},t.getSpecimenWebPartGroups=function(e){n.request({url:a.buildURL("study-samples-api","getSpecimenWebPartGroups",e.containerPath),method:"POST",headers:{"Content-Type":"application/json"},success:i(e.success),failure:s.getCallbackWrapper(u(e.failure),this,!0)})},t.getVialsByRowId=function(e){l(e,arguments)&&(e={success:arguments[0],vialRowIdArray:arguments[1],failure:arguments[2],containerPath:arguments[3]}),n.request({url:a.buildURL("study-samples-api","getVialsByRowId",e.containerPath),method:"POST",jsonData:{rowIds:e.vialRowIdArray},success:i(e.success,"vials"),failure:s.getCallbackWrapper(e.failure||s.displayAjaxErrorResponse,this,!0)})},t.getVialTypeSummary=function(e){n.request({url:a.buildURL("study-samples-api","getVialTypeSummary",e.containerPath),method:"POST",headers:{"Content-Type":"application/json"},success:i(e.success),failure:s.getCallbackWrapper(u(e.failure),this,!0)})};var o=function(e,t){return s.displayAjaxErrorResponse(t,e)};function u(e){return e||o}function l(e,t){return e&&(s.isFunction(e)||t.length>1)}t.removeVialsFromRequest=function(e){l(e,arguments)&&(e={success:arguments[0],requestId:arguments[1],vialIdArray:arguments[2],idType:arguments[3],failure:arguments[4],containerPath:arguments[5]}),e.idType||(e.idType="GlobalUniqueId"),n.request({url:a.buildURL("study-samples-api","removeVialsFromRequest",e.containerPath),method:"POST",jsonData:{idType:e.idType,requestId:e.requestId,vialIds:e.vialIdArray},success:i(e.success),failure:s.getCallbackWrapper(u(e.failure),this,!0)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(14);t.Aggregate=a.Aggregate,t.Dimension=a.Dimension,t.Filter=a.Filter,t.Interval=a.Interval,t.Measure=a.Measure,t.Type=a.Type},function(e,t,r){e.exports=r(48)},function(e,t,r){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(20));LABKEY.ActionURL=n.ActionURL,LABKEY.Ajax=n.Ajax,LABKEY.Assay=n.Assay,LABKEY.Domain=n.Domain,LABKEY.FieldKey=n.FieldKey,LABKEY.Filter=n.Filter,LABKEY.List=n.List,LABKEY.Message=n.Message,LABKEY.MultiRequest=n.MultiRequest,LABKEY.ParticipantGroup=n.ParticipantGroup,LABKEY.Pipeline=n.Pipeline,LABKEY.Query=n.Query,LABKEY.QueryKey=n.QueryKey,LABKEY.Report=n.Report,LABKEY.SchemaKey=n.SchemaKey,LABKEY.Security=n.Security,LABKEY.Specimen=n.Specimen,LABKEY.Utils=n.Utils,LABKEY.Visualization=n.Visualization}]);
//# sourceMappingURL=labkey-api-js-core.min.js.map